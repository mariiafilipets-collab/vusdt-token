# Решение проблем с админ-панелью

## Проблема: "You are not the contract owner"

### Причины

1. **Неправильный кошелек подключен**
   - Админ-панель доступна только для кошелька, который развернул контракты
   - Deployer address: `0x8973987BF03AeA074daB64a98fe13D2538C1302b`

2. **Неправильная сеть**
   - Убедитесь, что MetaMask подключен к BSC Testnet (Chain ID: 97)
   - Адреса контрактов работают только в той сети, где они были развернуты

3. **Проблемы с подключением к контракту**
   - Проверьте, что адреса контрактов правильно указаны в `frontend/.env`

### Решение

#### Шаг 1: Проверьте подключенный кошелек

1. Откройте MetaMask
2. Убедитесь, что выбран аккаунт с адресом: `0x8973987BF03AeA074daB64a98fe13D2538C1302b`
3. Если это другой аккаунт, переключитесь на правильный

#### Шаг 2: Проверьте сеть

1. В MetaMask убедитесь, что выбрана сеть "BSC Testnet"
2. Если сети нет, добавьте её:
   - Network Name: `BSC Testnet`
   - RPC URL: `https://data-seed-prebsc-1-s1.binance.org:8545/`
   - Chain ID: `97`
   - Currency Symbol: `BNB`
   - Block Explorer: `https://testnet.bscscan.com`

#### Шаг 3: Переподключите кошелек

1. В веб-интерфейсе нажмите "Disconnect"
2. Обновите страницу (F5)
3. Нажмите "Connect Wallet" снова
4. Выберите правильный аккаунт в MetaMask

#### Шаг 4: Проверьте консоль браузера

1. Откройте Developer Tools (F12)
2. Перейдите на вкладку "Console"
3. Найдите сообщения об ошибках
4. Проверьте логи "Ownership check" - там будет показано:
   - Ваш подключенный адрес
   - Адрес владельца контракта
   - Результат проверки

### Отладочная информация

Админ-панель теперь показывает:
- ✅ Ваш текущий адрес
- ✅ Адрес владельца контракта
- ✅ Кнопку для повторной проверки

### Альтернативный способ: Использование скриптов

Если веб-интерфейс не работает, вы можете управлять контрактами через скрипты:

```bash
# Начисление доходности
YIELD_DISTRIBUTOR_ADDRESS=0xE1A976055A5D89Fcb818a2C2698D7498Cb7C9e28 npm run distribute -- --network bscTestnet
```

### Проверка владельца через консоль

Вы можете проверить владельца контракта напрямую:

1. Откройте BSCScan Testnet: https://testnet.bscscan.com/address/0x848444767795e730A5b243fEF10f29E7B064E01D
2. Перейдите на вкладку "Contract"
3. Вызовите функцию `owner()` - она покажет адрес владельца

### Частые ошибки

**Ошибка: "Error checking ownership"**
- Проверьте, что контракт развернут и доступен
- Убедитесь, что вы в правильной сети
- Проверьте адрес контракта в `frontend/.env`

**Ошибка: "Contract owner: undefined"**
- Контракт не загружен правильно
- Проверьте адрес VUSDT в `frontend/.env`
- Обновите страницу

### Контакты для помощи

Если проблема не решена:
1. Проверьте консоль браузера на наличие ошибок
2. Убедитесь, что используете правильный кошелек
3. Проверьте, что контракты развернуты в той же сети, что и ваш MetaMask

